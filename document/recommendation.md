# 추천 시스템 관련 발표 내용

> 현재 저희의 데이터가 구축되지 않은 상태이기 때문에
>
> 제공된 카드사 데이터와 음식점 리뷰 데이터를 기반으로
>
> 음식점을 추천해주는 Model을 작성하고 성능을 테스트했습니다.

## 1. 서비스 초기

> 아무 데이터도 없는 상태에서 활용할 추천 model입니다.

유저들이 거래한 기록이 없기 때문에 어떤 유형의 유저가 어떤 카테고리(제품)를 선호할지 모르는 상태입니다.

이 경우 외부 데이터를 이용하여 기초적인 추천 시스템을 구축하고, 활용할 계획입니다.

구체적으로는

1. 카드사 데이터를 분석하여 성별 / 연령대별 선호 업종을 획득

2. 이를 활용하여 성별 / 연령대별 예상 선호 카테고리를 지정

3. 사용자의 성별 / 연령 정보를 활용하여 사용자를 분류하고, 그룹 추천을 진행

    (같은 성별, 같은 연령대의 사용자는 거의 유사한 제품 카테고리를 추천 받을 것입니다.)

현재는 1번까지 진행이 된 상태입니다. (우리 사이트의 카테고리가 확정 X)



## 2. 데이터 구축

> 사용자들이 활발하게 중고거래 기능을 사용하여 저희에게 충분한 데이터가 있는 상태에서
> 활용할 추천 시스템에 대한 설명입니다.
>
> 하지만 현재는 저희 데이터는 없기 때문에
> 저희 데이터와 유사한 음식점 리뷰 데이터를 활용하여 예측 model을 구현했습니다.
>
> 1. 대분류 - 중분류를 통한 물품의 분류가 음식점의 카테고리와 유사함
> 2. 같은 카테고리 내에 다양한 Item (물품 / 음식점)이 존재함
>
> 데이터를 구축한 뒤에는 지금 만들어둔 예측 모델을 바탕으로
> 정확도 테스트 등을 거쳐서 추천시스템을 구축할 계획입니다

이제는 외부 데이터에 의존하지 않고, 저희 데이터를 이용하여 추천 시스템을 구현할 수 있습니다.

이 경우는 2가지 케이스로 나누어서 추천 시스템을 만들 계획입니다.

1. 신규 유저 + 중고 거래 내역이 없는 유저 - 그룹에 따른 선호도 예측을 통한 추천
2. 중고 거래를 몇 회 이상 진행한 유저 - 협업 필터링



### 2-1. 신규 유저 + 중고 거래 내역이 거의 없는 유저

> 다른 유저들의 거래 데이터는 있지만, 저희가 추천하고자 하는 유저의 데이터는 없는 상태입니다. 

이 경우에도 개인화 추천 시스템을 적용하기에는 어려울 것이라고 판단했습니다.

그렇기 때문에 사용자와 같은 그룹 (전체 / 성별 / 연령 기준) 에 속한 다른 사용자들의 평점을 기준으로
현재 사용자의 평점을 예측하고, 그를 활용하여 제품의 카테고리를 추천해줄 계획입니다.

* 사용자가 평가한 카테고리의 평점이 있다면, 해당 값을 유지합니다.

* 사용자의 정보(성별, 연령)을 기준으로

    사용자와 같은 그룹에 속한 유저들의 특정 카테고리에 대한 평균 평점을 계산하고,

    이를 해당 유저의 특정 카테고리에 대한 평점의 예측값으로 사용합니다.

* 평점의 예측값이 높은 제품 카테고리를 추천합니다.



### 2-2. 중고 거래를 몇 회 이상 진행한 유저

> 다른 유저들의 거래 데이터도 있고, 저희가 추천하고자 하는 유저의 데이터도 있는 상태입니다.

현재는 사용자 기반 협업 필터링을 구현한 상태입니다.

총 2가지 추천 시스템 (전체 협업 필터링 / 평점 기반 KNN CF)을 구현해놨습니다.

1. 전체 사용자의 평점을 코사인 유사도로 가중평균하여 카테고리를 추천
2. 유사도가 높은 N명의 유저의 평점을 코사인 유사도로 가중평균하여 카테고리를 추천

각각의 추천 시스템에 대해 RMSE를 계산하여 성능을 테스트할 수 있는 코드를 작성해두었습니다.



## 3. 향후 계획

> 사용자 기반 협업 필터링을 구현하며 알게된 몇 개의 문제점은
>
> * 속도가 너무 느리고, 데이터가 바뀔 때마다 업데이트 필요
> * 각 사용자에 대한 데이터를 충분히 확보해야 됨
>
> 입니다.
>
> 이를 해결할 방법을 찾던 중 아이템 기반 협업 필터링 (IBCF)와 MF를 적절히 활용한다면
> 좋은 결과를 얻을 수 있을 것이라고 생각하게 되었습니다.
>
> 1. 저희 사이트의 경우 유저가 중고거래 기능을 이용하는 횟수의 제한이 있을 것이라고 판단
> 2. 각 사용자에 대한 충분한 정보가 없더라도 안정적인 추천을 진행할 수 있는 방법이 필요
> 3. 사용자의 구매 이력을 바로 추천에 반영하기 위한 빠른 반응이 필요

데이터를 본격적으로 생성하기 전에

1. 음식점의 카테고리를 기준으로 IBCF를 구현할 계획입니다.
2. 음식점의 카테고리를 기준으로 MF를 구현할 계획입니다.
3. IBCF와 MF의 하이브리드 추천 시스템을 구현할 계획입니다.

데이터를 구축한 뒤에

* 저희 데이터를 활용하여 각각의 필터링 방법의 성능 테스트를 진행하고,

    적절한 방법을 선택하여 추천 시스템을 구축할 계획입니다.